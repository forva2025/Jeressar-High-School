// Jeressar High School - Minified JavaScript
class JeressarHighSchool{constructor(){this.init()}init(){this.setupEventListeners(),this.initializeAnimations(),this.setupScrollAnimations(),this.initializeTypewriter(),this.setupFormValidation(),this.initializeCarousels()}setupEventListeners(){const e=document.querySelector('.mobile-menu-btn'),t=document.querySelector('.mobile-menu');e&&t&&e.addEventListener('click',()=>{t.classList.toggle('active'),e.classList.toggle('active')}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener('click',e=>{e.preventDefault();const t=document.querySelector(e.target.getAttribute('href'));t&&t.scrollIntoView({behavior:'smooth',block:'start'})})}),document.querySelectorAll('form').forEach(e=>{e.addEventListener('submit',e=>{e.preventDefault(),this.handleFormSubmission(e.target)})})}initializeAnimations(){typeof anime!=='undefined'&&(anime.timeline({easing:'easeOutExpo',duration:1e3}).add({targets:'.hero-title',opacity:[0,1],translateY:[50,0],delay:500}).add({targets:'.hero-subtitle',opacity:[0,1],translateY:[30,0],delay:200},'-=800').add({targets:'.hero-buttons .btn',opacity:[0,1],translateY:[20,0],delay:anime.stagger(100)},'-=600'),document.querySelectorAll('.card-hover').forEach(e=>{e.addEventListener('mouseenter',()=>{anime({targets:e,scale:1.05,rotateX:5,rotateY:5,boxShadow:'0 20px 40px rgba(0, 128, 255, 0.2)',duration:300,easing:'easeOutCubic'})}),e.addEventListener('mouseleave',()=>{anime({targets:e,scale:1,rotateX:0,rotateY:0,boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)',duration:300,easing:'easeOutCubic'})})}))}setupScrollAnimations(){const e={threshold:.1,rootMargin:'0px 0px -50px 0px'},t=new IntersectionObserver((e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add('animate-in'),e.target.classList.contains('stagger-children')&&e.target.querySelectorAll('.stagger-item').forEach((e,t)=>{setTimeout(()=>{e.classList.add('animate-in')},100*t)}))})}),e);document.querySelectorAll('.animate-on-scroll').forEach(e=>{t.observe(e)})}initializeTypewriter(){typeof Typed!=='undefined'&&document.querySelector('.hero-typewriter')&&new Typed('.hero-typewriter',{strings:["Shaping Tomorrow's Leaders","God our Hope","Building Future Innovators"],typeSpeed:50,backSpeed:30,backDelay:2e3,loop:!0,showCursor:!0,cursorChar:'|'})}setupFormValidation(){document.querySelectorAll('input, textarea').forEach(e=>{e.addEventListener('blur',()=>{this.validateField(e)}),e.addEventListener('input',()=>{e.classList.contains('error')&&this.validateField(e)})})}validateField(e){const t=e.value.trim(),n=e.type;let r=!0,o='';return e.hasAttribute('required')&&!t&&(r=!1,o='This field is required'),'email'===n&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&(r=!1,o='Please enter a valid email address'),'tel'===n&&t&&!/^[\+]?[1-9][\d]{0,15}$/.test(t.replace(/[\s\-\(\)]/g,''))&&(r=!1,o='Please enter a valid phone number'),r?(e.classList.remove('error'),e.classList.add('valid'),this.removeFieldError(e)):(e.classList.remove('valid'),e.classList.add('error'),this.showFieldError(e,o)),r}showFieldError(e,t){let n=e.parentNode.querySelector('.field-error');n||(n=document.createElement('div'),n.className='field-error',e.parentNode.appendChild(n)),n.textContent=t}removeFieldError(e){const t=e.parentNode.querySelector('.field-error');t&&t.remove()}handleFormSubmission(e){const t=new FormData(e),n=e.querySelector('button[type="submit"]');let r=!0;e.querySelectorAll('input, textarea, select').forEach(e=>{this.validateField(e)||(r=!1)}),r?(n.innerHTML='<span class="loading-spinner"></span> Sending...',n.disabled=!0,setTimeout(()=>{this.showFormSuccess(e),e.reset(),n.innerHTML='Send Message',n.disabled=!1},2e3)):this.showFormError(e,'Please correct the errors above')}showFormSuccess(e){const t=document.createElement('div');t.className='form-success',t.innerHTML='<div class="success-icon">✓</div><h3>Message Sent Successfully!</h3><p>Thank you for contacting us. We\'ll get back to you soon.</p>',e.appendChild(t),setTimeout(()=>{t.remove()},5e3)}showFormError(e,t){const n=document.createElement('div');n.className='form-error',n.innerHTML=`<div class="error-icon">✗</div><p>${t}</p>`,e.appendChild(n),setTimeout(()=>{n.remove()},5e3)}initializeCarousels(){typeof Splide!=='undefined'&&(document.querySelector('.testimonial-carousel')&&new Splide(document.querySelector('.testimonial-carousel'),{type:'loop',perPage:1,autoplay:!0,interval:5e3,arrows:!1,pagination:!0,gap:'2rem'}).mount(),document.querySelector('.image-carousel')&&new Splide(document.querySelector('.image-carousel'),{type:'loop',perPage:3,perMove:1,autoplay:!0,interval:4e3,gap:'1rem',breakpoints:{768:{perPage:1},1024:{perPage:2}}}).mount())}debounce(e,t){let n;return function(...e){const r=()=>{clearTimeout(n),e(...e)};clearTimeout(n),n=setTimeout(r,t)}}throttle(e,t){let n;return function(){const e=arguments,r=this;n||(e.apply(r,e),n=!0,setTimeout(()=>n=!1,t))}}}document.addEventListener('DOMContentLoaded',()=>{new JeressarHighSchool()});const e=document.createElement('style');e.textContent=`\n    .animate-on-scroll {\n        opacity: 0;\n        transform: translateY(30px);\n        transition: all 0.6s ease-out;\n    }\n\n    .animate-on-scroll.animate-in {\n        opacity: 1;\n        transform: translateY(0);\n    }\n\n    .stagger-item {\n        opacity: 0;\n        transform: translateY(20px);\n        transition: all 0.4s ease-out;\n    }\n\n    .stagger-item.animate-in {\n        opacity: 1;\n        transform: translateY(0);\n    }\n\n    .loading-spinner {\n        display: inline-block;\n        width: 16px;\n        height: 16px;\n        border: 2px solid #ffffff;\n        border-radius: 50%;\n        border-top-color: transparent;\n        animation: spin 0.8s linear infinite;\n        margin-right: 8px;\n    }\n\n    @keyframes spin {\n        to { transform: rotate(360deg); }\n    }\n\n    .form-success, .form-error {\n        margin-top: 1rem;\n        padding: 1rem;\n        border-radius: 8px;\n        text-align: center;\n        animation: slideIn 0.3s ease-out;\n    }\n\n    .form-success {\n        background: #d4edda;\n        color: #155724;\n        border: 1px solid #c3e6cb;\n    }\n\n    .form-error {\n        background: #f8d7da;\n        color: #721c24;\n        border: 1px solid #f5c6cb;\n    }\n\n    .success-icon, .error-icon {\n        font-size: 2rem;\n        margin-bottom: 0.5rem;\n    }\n\n    @keyframes slideIn {\n        from {\n            opacity: 0;\n            transform: translateY(-10px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .field-error {\n        color: #dc3545;\n        font-size: 0.875rem;\n        margin-top: 0.25rem;\n    }\n\n    input.error, textarea.error {\n        border-color: #dc3545;\n    }\n\n    input.valid, textarea.valid {\n        border-color: #28a745;\n    }\n`,document.head.appendChild(e);